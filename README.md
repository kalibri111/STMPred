# STMPred
Application for running SVM prediction on STM32WB55
## Сборка проекта
Это cmake проект, сборка в Clion запуском конфига _cmake-build_
## Загрузка на плату
Конфиг OpenOCD _deploy-to-board_
## Дебаг
В OpenOCD дебаг и брейкпоинты работают как обычно
## Структура и функционал
- ### Обработка сигнала с акселерометра MPU5060
    Интерфейс для работы по SPI, буферизация с заданным размером буфера
- ### Логика SVM predict
    Функция predict для заданного окна данных, используется сохраненная на плате матрицей весов
- ### Средства индикации
    Интерфейс для индикации событий
- ### Внешнее API по протоколу BLE
    Последняя буква типа запроса обозначает отправителя: _M_ - смартфон, _D_ - девайс
    - POSTM запустить измерение
    - POSTM закончить измерение
    - GETM отдать статистику сигнализаций
    - POSTM отдавать данные напрямую (дебаг режим)
    - POSTM сигнализировать о событии
    - POSTD данные с датчика
    - POSTD сигнал о событии